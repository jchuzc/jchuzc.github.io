<!doctype html>
<html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>Bitfields - JoeChu</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="JoeChu&#039;s Blog"><meta name="msapplication-TileImage" content="/img/expert.png"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="JoeChu&#039;s Blog"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta name="description" content="Intoducing bitfileds in C++"><meta property="og:type" content="blog"><meta property="og:title" content="Bitfields"><meta property="og:url" content="http://jchuzc.github.io/cpp/cpp-bitfields/"><meta property="og:site_name" content="JoeChu"><meta property="og:description" content="Intoducing bitfileds in C++"><meta property="og:locale" content="en_US"><meta property="og:image" content="http://jchuzc.github.io/img/og_image.png"><meta property="article:published_time" content="2025-05-16T17:48:05.000Z"><meta property="article:modified_time" content="2025-10-16T04:26:43.470Z"><meta property="article:author" content="Joe Chu"><meta property="article:tag" content="bitfields"><meta property="twitter:card" content="summary"><meta property="twitter:image:src" content="http://jchuzc.github.io/img/og_image.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"http://jchuzc.github.io/cpp/cpp-bitfields/"},"headline":"Bitfields","image":["http://jchuzc.github.io/img/og_image.png"],"datePublished":"2025-05-16T17:48:05.000Z","dateModified":"2025-10-16T04:26:43.470Z","author":{"@type":"Person","name":"Joe Chu"},"publisher":{"@type":"Organization","name":"JoeChu","logo":{"@type":"ImageObject","url":"http://jchuzc.github.io/img/expert.png"}},"description":"Intoducing bitfileds in C++"}</script><link rel="canonical" href="http://jchuzc.github.io/cpp/cpp-bitfields/"><link rel="icon" href="/img/expert.png"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v6.0.0/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css"><link rel="stylesheet"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><script src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" defer></script><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/css/justifiedGallery.min.css"><!--!--><!--!--><!--!--><style>.pace{-webkit-pointer-events:none;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.pace-inactive{display:none}.pace .pace-progress{background:#3273dc;position:fixed;z-index:2000;top:0;right:100%;width:100%;height:2px}</style><script src="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/pace.min.js"></script><!--!--><!--!--><script data-ad-client="ca-pub-1486482663275315" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js" async></script><!-- hexo injector head_end start -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-math@4.0.0/dist/style.css">
<script>
  (function () {
      function switchTab() {
          if (!location.hash) {
            return;
          }

          const id = '#' + CSS.escape(location.hash.substring(1));
          const $tabMenu = document.querySelector(`.tabs a[href="${id}"]`);
          if (!$tabMenu) {
            return;
          }

          const $tabMenuContainer = $tabMenu.parentElement.parentElement;
          Array.from($tabMenuContainer.children).forEach($menu => $menu.classList.remove('is-active'));
          Array.from($tabMenuContainer.querySelectorAll('a'))
              .map($menu => document.getElementById($menu.getAttribute("href").substring(1)))
              .forEach($content => $content.classList.add('is-hidden'));

          if ($tabMenu) {
              $tabMenu.parentElement.classList.add('is-active');
          }
          const $activeTab = document.querySelector(id);
          if ($activeTab) {
              $activeTab.classList.remove('is-hidden');
          }
      }
      switchTab();
      window.addEventListener('hashchange', switchTab, false);
  })();
  </script><!-- hexo injector head_end end --><meta name="generator" content="Hexo 7.1.1"></head><body class="is-2-column"><nav class="navbar navbar-main"><div class="container navbar-container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/expert.png" alt="JoeChu" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">Home</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/categories/life">Life</a><a class="navbar-item" href="/categories/cpp">C/C++</a><a class="navbar-item" href="/categories/CGV">CG/CV</a><a class="navbar-item" href="/categories/interview">Interview</a><a class="navbar-item" href="/categories/misc">Misc</a><a class="navbar-item" href="/categories/tool">Tool</a><a class="navbar-item" href="/categories/wealth">Wealth</a><a class="navbar-item" href="/categories/resource">Resources</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/chuzcjoe"><i class="fab fa-github"></i></a><a class="navbar-item is-hidden-tablet catalogue" title="Catalogue" href="javascript:;"><i class="fas fa-list-ul"></i></a><a class="navbar-item search" title="Search" href="javascript:;"><i class="fas fa-search"></i></a><a class="navbar-item night" id="night-nav" title="Night Mode" href="javascript:;"><i class="fas fa-lightbulb" id="night-icon"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-10-widescreen"><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2025-05-16T17:48:05.000Z" title="5/16/2025, 10:48:05 AM">2025-05-16</time></span><span class="level-item"> Joe Chu </span><span class="level-item"><a class="link-muted" href="/categories/cpp/">cpp</a></span><span class="level-item">5 minutes read (About 738 words)</span><span class="level-item" id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span>&nbsp;visits</span></div></div><h1 class="title is-3 is-size-4-mobile">Bitfields</h1><div class="content"><p>Intoducing bitfileds in C++</p>
<span id="more"></span>

<h1 id="Table-of-Contents"><a href="#Table-of-Contents" class="headerlink" title="Table of Contents"></a>Table of Contents</h1><ul>
<li><span style="color:#1E90FF; font-size:18px; font-weight:bold;"> Introduction </span></li>
<li><span style="color:#1E90FF; font-size:18px; font-weight:bold;"> Caveats </span></li>
<li><span style="color:#1E90FF; font-size:18px; font-weight:bold;"> Example </span></li>
</ul>
<h1 id="1-Introduction"><a href="#1-Introduction" class="headerlink" title="1. Introduction"></a>1. Introduction</h1><p>In C++, bitfields are a feature that allows you to specify the exact number of bits a data member in a structure (or class) should occupy, rather than using a full byte or more as standard data types do. This is useful for memory optimization, especially in embedded systems, low-level programming, or when dealing with hardware registers, network protocols, or packed data structures where you need precise control over memory usage.</p>
<p><strong>What Are Bitfields?</strong></p>
<p>A bitfield is a member of a struct or class declared with a specified number of bits using the <code>: &lt;number&gt;</code> syntax. Bitfields are typically used with integral types (like <code>int</code>, <code>unsigned int</code>, or <code>bool</code>) and allow you to pack multiple fields into fewer bytes by allocating only the exact number of bits needed.</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">Flags</span> &#123;</span><br><span class="line">    <span class="type">unsigned</span> <span class="type">short</span> isActive : <span class="number">1</span>;    <span class="comment">// 1 bit (0 or 1)</span></span><br><span class="line">    <span class="type">unsigned</span> <span class="type">short</span> mode : <span class="number">2</span>;       <span class="comment">// 2 bits (0 to 3)</span></span><br><span class="line">    <span class="type">unsigned</span> <span class="type">short</span> priority : <span class="number">3</span>;   <span class="comment">// 3 bits (0 to 7)</span></span><br><span class="line">    <span class="type">unsigned</span> <span class="type">short</span> reserved : <span class="number">2</span>;   <span class="comment">// 2 bits (unused)</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    Flags flags;</span><br><span class="line">    flags.isActive = <span class="number">1</span>;   <span class="comment">// Set to true (1)</span></span><br><span class="line">    flags.mode = <span class="number">2</span>;       <span class="comment">// Set to 2</span></span><br><span class="line">    flags.priority = <span class="number">5</span>;   <span class="comment">// Set to 5</span></span><br><span class="line">    flags.reserved = <span class="number">0</span>;   <span class="comment">// Set to 0</span></span><br><span class="line"></span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;Size of Flags: &quot;</span> &lt;&lt; <span class="built_in">sizeof</span>(Flags) &lt;&lt; <span class="string">&quot; bytes\n&quot;</span>;</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;isActive: &quot;</span> &lt;&lt; flags.isActive &lt;&lt; <span class="string">&quot;\n&quot;</span>;</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;mode: &quot;</span> &lt;&lt; flags.mode &lt;&lt; <span class="string">&quot;\n&quot;</span>;</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;priority: &quot;</span> &lt;&lt; flags.priority &lt;&lt; <span class="string">&quot;\n&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Size of Flags: 2 bytes</span><br><span class="line">isActive: 1</span><br><span class="line">mode: 2</span><br><span class="line">priority: 5</span><br></pre></td></tr></table></figure>

<p>Bitfields can only be declared as <code>Integral Types</code> Only. Other types such as <code>float</code> are not allowed. The total size of a struct(or class) with bitfields is usually the underlying type(e.g., 32 bits for an unsigned int) if the the number of bits used doesn’t exceed the bit limit.</p>
<p>When there’s not enough space left in the current allocation unit (like a 16-bit short), the compiler will start a new one, leading to increase size of a struct&#x2F;class.</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">Flags</span> &#123;</span><br><span class="line">    <span class="type">unsigned</span> <span class="type">short</span> isActive : <span class="number">1</span>;    <span class="comment">// 1 bit (0 or 1)</span></span><br><span class="line">    <span class="type">unsigned</span> <span class="type">short</span> mode : <span class="number">2</span>;       <span class="comment">// 2 bits (0 to 3)</span></span><br><span class="line">    <span class="type">unsigned</span> <span class="type">short</span> priority : <span class="number">3</span>;   <span class="comment">// 3 bits (0 to 7)</span></span><br><span class="line">    <span class="type">unsigned</span> <span class="type">short</span> reserved : <span class="number">2</span>;   <span class="comment">// 2 bits (unused)</span></span><br><span class="line">    <span class="type">unsigned</span> <span class="type">short</span> rest : <span class="number">11</span>;</span><br><span class="line">&#125;; <span class="comment">// 4 bytes</span></span><br></pre></td></tr></table></figure>

<h1 id="2-Caveats"><a href="#2-Caveats" class="headerlink" title="2. Caveats"></a>2. Caveats</h1><h2 id="2-1-Implementation-Defined-Layout"><a href="#2-1-Implementation-Defined-Layout" class="headerlink" title="2.1 Implementation-Defined Layout"></a>2.1 Implementation-Defined Layout</h2><p>The layout of bitfields (e.g., bit ordering, padding, and alignment) is compiler- and platform-dependent. Different compilers or architectures (e.g., big-endian vs. little-endian) may arrange bits differently, making bitfields non-portable.</p>
<h2 id="2-2-No-Type-Safety-or-Overflow-Protection"><a href="#2-2-No-Type-Safety-or-Overflow-Protection" class="headerlink" title="2.2 No Type Safety or Overflow Protection"></a>2.2 No Type Safety or Overflow Protection</h2><p>Assigning a value larger than the bitfield silently truncates the value.</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">Flags</span> &#123;</span><br><span class="line">    <span class="type">unsigned</span> <span class="type">short</span> isActive : <span class="number">1</span>;    <span class="comment">// 1 bit (0 or 1)</span></span><br><span class="line">    <span class="type">unsigned</span> <span class="type">short</span> mode : <span class="number">3</span>;       <span class="comment">// 3 bits (0 to 7)</span></span><br><span class="line">    <span class="type">unsigned</span> <span class="type">short</span> priority : <span class="number">3</span>;   <span class="comment">// 3 bits (0 to 7)</span></span><br><span class="line">    <span class="type">unsigned</span> <span class="type">short</span> reserved : <span class="number">2</span>;   <span class="comment">// 2 bits (unused)</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">Flags flags;</span><br><span class="line">flags.mode = <span class="number">10</span>;       <span class="comment">// will be truncated to 2</span></span><br></pre></td></tr></table></figure>

<p>If we set <code>mode</code> to be <code>10</code> by mistake, which exceeds the representation limit of 3 bits. The compiler silently truncates the value to be <code>0b1010 &amp; 0b0111 = 0b0010  (which is 2)</code></p>
<h2 id="2-3-Unspecified-Signedness-of-Plain-int-Bitfields"><a href="#2-3-Unspecified-Signedness-of-Plain-int-Bitfields" class="headerlink" title="2.3 Unspecified Signedness of Plain int Bitfields"></a>2.3 Unspecified Signedness of Plain int Bitfields</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">S</span> &#123;</span><br><span class="line">    <span class="type">int</span> x : <span class="number">3</span>;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>The signedness (signed vs. unsigned) of <code>x</code> is implementation-defined.</p>
<p><strong>Tip</strong>: Always use <code>signed int</code> and <code>unsigned int</code> explicitly for clarity.</p>
<h2 id="2-4-Compiler-Behavior"><a href="#2-4-Compiler-Behavior" class="headerlink" title="2.4 Compiler Behavior"></a>2.4 Compiler Behavior</h2><ul>
<li>Compilers may insert padding between bitfields or at the end of a struct to align data to word boundaries, increasing memory usage unexpectedly.</li>
<li>Adjacent bitfields may not always be packed tightly; the compiler decides based on the underlying type and alignment rules.</li>
<li>Accessing bitfields often requires the compiler to generate additional instructions for masking and shifting, which can be slower than accessing regular variables.</li>
<li>The C++ standard leaves many aspects of bitfields (e.g., allocation order, padding) up to the implementation, so code relying on specific behavior may break when compiled with a different compiler or on a different platform.</li>
</ul>
<h1 id="3-Example"><a href="#3-Example" class="headerlink" title="3. Example"></a>3. Example</h1><p><strong>Real-World Example: IPv4 Header with Bitfields</strong></p>
<p>The IPv4 header is a 20-byte (160-bit) structure (without options) that precedes the payload in an IP packet. It contains fields like version, header length, type of service, total length, identification, flags, fragment offset, time to live, protocol, header checksum, source address, and destination address. Many of these fields are smaller than a byte, making bitfields perfect for mapping them.</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">IPv4Header</span> &#123;</span><br><span class="line">    <span class="type">uint8_t</span> version : <span class="number">4</span>;        <span class="comment">// 4 bits: IP version (4 for IPv4)</span></span><br><span class="line">    <span class="type">uint8_t</span> ihl : <span class="number">4</span>;            <span class="comment">// 4 bits: Internet Header Length</span></span><br><span class="line">    <span class="type">uint8_t</span> typeOfService;      <span class="comment">// 8 bits: Type of Service</span></span><br><span class="line">    <span class="type">uint16_t</span> totalLength;       <span class="comment">// 16 bits: Total packet length</span></span><br><span class="line">    <span class="type">uint16_t</span> identification;    <span class="comment">// 16 bits: Packet identifier</span></span><br><span class="line">    <span class="type">uint8_t</span> flags : <span class="number">3</span>;          <span class="comment">// 3 bits: Fragmentation flags</span></span><br><span class="line">    <span class="type">uint16_t</span> fragmentOffset : <span class="number">13</span>; <span class="comment">// 13 bits: Fragment offset</span></span><br><span class="line">    <span class="type">uint8_t</span> timeToLive;         <span class="comment">// 8 bits: Time to Live</span></span><br><span class="line">    <span class="type">uint8_t</span> protocol;           <span class="comment">// 8 bits: Protocol (e.g., 6 for TCP)</span></span><br><span class="line">    <span class="type">uint16_t</span> headerChecksum;    <span class="comment">// 16 bits: Header checksum</span></span><br><span class="line">    <span class="type">uint32_t</span> sourceAddress;     <span class="comment">// 32 bits: Source IP address</span></span><br><span class="line">    <span class="type">uint32_t</span> destinationAddress; <span class="comment">// 32 bits: Destination IP address</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>The total size is <code>1 + 1 + 2 + 2 + 2 + 1 + 1 + 2 + 4 + 4 = 20 bytes</code>.</p>
</div><div class="article-licensing box"><div class="licensing-title"><p>Bitfields</p><p><a href="http://jchuzc.github.io/cpp/cpp-bitfields/">http://jchuzc.github.io/cpp/cpp-bitfields/</a></p></div><div class="licensing-meta level is-mobile"><div class="level-left"><div class="level-item is-narrow"><div><h6>Author</h6><p>Joe Chu</p></div></div><div class="level-item is-narrow"><div><h6>Posted on</h6><p>2025-05-16</p></div></div><div class="level-item is-narrow"><div><h6>Updated on</h6><p>2025-10-15</p></div></div><div class="level-item is-narrow"><div><h6>Licensed under</h6><p><a class="icons" rel="noopener" target="_blank" title="Creative Commons" href="https://creativecommons.org/"><i class="icon fab fa-creative-commons"></i></a><a class="icons" rel="noopener" target="_blank" title="Attribution" href="https://creativecommons.org/licenses/by/4.0/"><i class="icon fab fa-creative-commons-by"></i></a><a class="icons" rel="noopener" target="_blank" title="Noncommercial" href="https://creativecommons.org/licenses/by-nc/4.0/"><i class="icon fab fa-creative-commons-nc"></i></a></p></div></div></div></div></div><div class="article-tags is-size-7 mb-4"><span class="mr-2">#</span><a class="link-muted mr-2" rel="tag" href="/tags/bitfields/">bitfields</a></div><div class="sharethis-inline-share-buttons"></div><script src="https://chuzcjoe.github.io/" defer></script></article></div><div class="card"><div class="card-content"><h3 class="menu-label has-text-centered">Like this article? Support the author with</h3><div class="buttons is-centered"><a class="button donate" data-type="alipay"><span class="icon is-small"><i class="fab fa-alipay"></i></span><span>Alipay</span><span class="qrcode"><img src="/" alt="Alipay"></span></a><a class="button donate" data-type="paypal" onclick="document.getElementById(&#039;paypal-donate-form&#039;).submit()"><span class="icon is-small"><i class="fab fa-paypal"></i></span><span>Paypal</span></a><form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_blank" rel="noopener" id="paypal-donate-form"><input type="hidden" name="cmd" value="_donations"><input type="hidden" name="business" value="chuzcjoe@gmail.com"><input type="hidden" name="currency_code" value="USD"></form><a class="button donate" data-type="wechat"><span class="icon is-small"><i class="fab fa-weixin"></i></span><span>Wechat</span><span class="qrcode"><img src="/img/wechat.jpg" alt="Wechat"></span></a></div></div></div><nav class="post-navigation mt-4 level is-mobile"><div class="level-start"><a class="article-nav-prev level level-item link-muted" href="/life/life-free-hotpot/"><i class="level-item fas fa-chevron-left"></i><span class="level-item">霸王餐体验</span></a></div><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/cpp/cpp-type-punning/"><span class="level-item">Type Punning and Strict Aliasing Rule</span><i class="level-item fas fa-chevron-right"></i></a></div></nav><div class="card"><div class="card-content"><h3 class="title is-5">Comments</h3><div id="disqus_thread"><noscript>Please enable JavaScript to view the <a target="_blank" rel="noopener" href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript></div><script>var disqus_config = function () {
            this.page.url = 'http://jchuzc.github.io/cpp/cpp-bitfields/';
            this.page.identifier = 'cpp/cpp-bitfields/';
        };
        (function() {
            var d = document, s = d.createElement('script');  
            s.src = '//' + 'chuzcjoe-github-io' + '.disqus.com/embed.js';
            s.setAttribute('data-timestamp', +new Date());
            (d.head || d.body).appendChild(s);
        })();</script></div></div></div><div class="column column-left is-4-tablet is-4-desktop is-3-widescreen  order-1"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar" src="/img/baby.png" alt="Joe Chu"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">Joe Chu</p><p class="is-size-6 is-block">I like to keep knowledge and memories visible and readable.</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>Fremont, CA</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">Posts</p><a href="/archives"><p class="title">247</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Categories</p><a href="/categories"><p class="title">8</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Tags</p><a href="/tags"><p class="title">187</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/chuzcjoe" target="_blank" rel="noopener">Follow</a></div><div class="level is-mobile is-multiline"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/chuzcjoe"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Linkedin" href="https://www.linkedin.com/in/joe-chu-1784b3179/"><i class="fab fa-linkedin"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Scholar" href="https://scholar.google.com/citations?user=DCwJ1qcAAAAJ&amp;hl=en"><i class="fab fa-google"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Dribbble" href="https://dribbble.com"><i class="fab fa-dribbble"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="RSS" href="/"><i class="fas fa-rss"></i></a></div></div></div><div class="card widget" id="toc" data-type="toc"><div class="card-content"><div class="menu"><h3 class="menu-label">Catalogue</h3><ul class="menu-list"><li><a class="level is-mobile" href="#Table-of-Contents"><span class="level-left"><span class="level-item">1</span><span class="level-item">Table of Contents</span></span></a></li><li><a class="level is-mobile" href="#1-Introduction"><span class="level-left"><span class="level-item">2</span><span class="level-item">1. Introduction</span></span></a></li><li><a class="level is-mobile" href="#2-Caveats"><span class="level-left"><span class="level-item">3</span><span class="level-item">2. Caveats</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#2-1-Implementation-Defined-Layout"><span class="level-left"><span class="level-item">3.1</span><span class="level-item">2.1 Implementation-Defined Layout</span></span></a></li><li><a class="level is-mobile" href="#2-2-No-Type-Safety-or-Overflow-Protection"><span class="level-left"><span class="level-item">3.2</span><span class="level-item">2.2 No Type Safety or Overflow Protection</span></span></a></li><li><a class="level is-mobile" href="#2-3-Unspecified-Signedness-of-Plain-int-Bitfields"><span class="level-left"><span class="level-item">3.3</span><span class="level-item">2.3 Unspecified Signedness of Plain int Bitfields</span></span></a></li><li><a class="level is-mobile" href="#2-4-Compiler-Behavior"><span class="level-left"><span class="level-item">3.4</span><span class="level-item">2.4 Compiler Behavior</span></span></a></li></ul></li><li><a class="level is-mobile" href="#3-Example"><span class="level-left"><span class="level-item">4</span><span class="level-item">3. Example</span></span></a></li></ul></div></div><style>#toc .menu-list > li > a.is-active + .menu-list { display: block; }#toc .menu-list > li > a + .menu-list { display: none; }</style><script src="/js/toc.js" defer></script></div><div class="card widget" data-type="adsense"><div class="card-content"><div class="menu"><h3 class="menu-label">Advertisement</h3><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-1486482663275315" data-ad-slot="5727003811" data-ad-format="auto" data-full-width-responsive="true"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});</script></div></div></div></div><!--!--></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/expert.png" alt="JoeChu" height="28"></a><p class="is-size-7"><span>&copy; 2025 Joe Chu</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a><br><span id="busuanzi_container_site_uv">uv <span id="busuanzi_value_site_uv">0</span></span><br><span id="busuanzi_container_site_pv">pv <span id="busuanzi_value_site_pv">0</span></span></p><p class="is-size-7">© 2019</p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("en");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="Back to top" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.js" defer></script><script>window.addEventListener("load", () => {
      window.cookieconsent.initialise({
        type: "info",
        theme: "edgeless",
        static: false,
        position: "bottom-left",
        content: {
          message: "This website uses cookies to improve your experience.",
          dismiss: "Got it!",
          allow: "Allow cookies",
          deny: "Decline",
          link: "Learn more",
          policy: "Cookie Policy",
          href: "https://www.cookiesandyou.com/",
        },
        palette: {
          popup: {
            background: "#edeff5",
            text: "#838391"
          },
          button: {
            background: "#4b81e8"
          },
        },
      });
    });</script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><script type="text/x-mathjax-config">MathJax.Hub.Config({
            'HTML-CSS': {
                matchFontHeight: false
            },
            SVG: {
                matchFontHeight: false
            },
            CommonHTML: {
                matchFontHeight: false
            },
            tex2jax: {
                inlineMath: [
                    ['$','$'],
                    ['\\(','\\)']
                ]
            }
        });</script><script src="https://cdn.jsdelivr.net/npm/mathjax@2.7.9/unpacked/MathJax.js?config=TeX-MML-AM_CHTML" defer></script><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><script src="/js/night.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="Type something..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"Type something...","untitled":"(Untitled)","posts":"Posts","pages":"Pages","categories":"Categories","tags":"Tags"});
        });</script></body></html>